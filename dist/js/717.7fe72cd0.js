"use strict";(self["webpackChunkassignment_3_3"]=self["webpackChunkassignment_3_3"]||[]).push([[717],{8717:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("br"),t("h1",{staticClass:"title text-center"},[e._v("My Favorites")]),e.recipes.length>0?t("div",[t("br"),t("h4",[e._v(" Number of results: "+e._s(e.recipes.length))]),t("b-row",e._l(e.orderedRecipes,(function(r){return t("b-col",{key:r.id},[t("b-card",{staticClass:"mb-2 card",attrs:{title:r.title,"img-src":r.image,"img-alt":"Image","img-top":"",tag:"article"}},[t("b-list-group",{attrs:{flush:""}},[t("b-list-group-item",[e._v("Number of Likes: "+e._s(r.aggregateLikes))]),t("b-list-group-item",[e._v("Time To Make: "+e._s(r.readyInMinutes))]),r.vegan?t("b-list-group-item",[t("b-icon",{attrs:{icon:"check-circle",scale:"1",variant:"success"}}),e._v("for vegans ")],1):e._e(),r.vegetarian?t("b-list-group-item",[t("b-icon",{attrs:{icon:"check-circle",scale:"1",variant:"success"}}),e._v("for vegetarians ")],1):e._e()],1),t("b-button",{attrs:{to:{name:"recipe",params:{recipeId:r.id}},variant:"primary"}},[e._v("Go To Instructions ")])],1)],1)})),1)],1):e.searched?t("div",[e._v(" No recipes found. ")]):e._e()])},a=[],i=r(6835),n=r(5957),c=r(8534),o=r(6486),u=r.n(o);const l={name:"MyFavorites",components:{},data:function(){return{recipes:[],sortby:"likes",searched:!1}},mounted:function(){this.updateRecipes()},computed:{orderedRecipes:function(){return"timetomake"==this.sortby?u().orderBy(this.recipes,"readyInMinutes"):u().orderBy(this.recipes,"aggregateLikes","desc")}},methods:{updateRecipes:function(){var e=this;return(0,c.Z)((0,i.Z)().mark((function t(){var r,s,a;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get(e.$root.store.server_domain+"/users/favorites");case 3:s=t.sent,a=s.data,e.recipes=[],(r=e.recipes).push.apply(r,(0,n.Z)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},removeFromFavorites:function(e){var t=this;return(0,c.Z)((0,i.Z)().mark((function r(){return(0,i.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!t.$root.store.username){r.next=7;break}return r.next=4,t.axios["delete"](t.$root.store.server_domain+"/users/favorites",{recipeId:e});case 4:r.sent,t.$root.toast("Removed from favorites","Recipe was added successfully","success"),t.getFavorites();case 7:r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()}}},p=l;var d=r(1001),v=(0,d.Z)(p,s,a,!1,null,"4d26d620",null);const m=v.exports}}]);
//# sourceMappingURL=717.7fe72cd0.js.map